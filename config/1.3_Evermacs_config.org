** Aide
*** Cheatsheet
Mémo général, séparé en sections, qui peut être appelé avec M-x =cheatsheet-show=.
#+BEGIN_SRC emacs-lisp
  (use-package cheatsheet
    :defer
    :config
    (setq cheatsheet--cheat-list nil)
    (cheatsheet-add-group 'Général
			  '(:key "C-?" :description "mini-antisèche pour les raccourcis sans préfixe.")
			  '(:key "C-h ?" :description "mini-antisèche pour le préfixe C-h.")
			  '(:key "C-x ?" :description "mini-antisèche pour le préfixe C-x.")
			  '(:key "C-c ?" :description "mini-antisèche pour le préfixe C-c.")
			  '(:key "C-c a" :description "revenir à la page d'accueil.")
			  '(:key "C-q" :description "sortir de l'antisèche."))
    (cheatsheet-add-group 'Aide
			  '(:key "C-h C-h" :description "interface d'aide à l'utilisation de C-h.")
			  '(:key "C-h c" :description "description rapide d'un raccourci.")
			  '(:key "C-h k" :description "description complète d'un raccourci.")
			  '(:key "C-h f" :description "description complète d'une fonction.")
			  '(:key "C-h m" :description "description complète d'un mode.")
			  '(:key "C-h i" :description "ouvrir le manuel d'Emacs (Info).") 
			  '(:key "C-h e" :description "ouvrir le buffer *Messages​*"))
    (cheatsheet-add-group 'Fichiers
			  '(:key "C-x C-f" :description "ouvrir/créer un fichier.")
			  '(:key "C-x C-s" :description "enregistrer.")
			  '(:key "C-x s" :description "enregistrer plusieurs fichiers.")
			  '(:key "C-x C-w" :description "enregistrer sous.")
			  '(:key "C-x k" :description "fermer le fichier.")
			  '(:key "C-x C-c" :description "enregistrer et quitter."))
    (cheatsheet-add-group 'Buffers
			  '(:key "C-x b" :description "changer de buffer.")
			  '(:key "C-x <DROITE>" :description "buffer suivant.")
			  '(:key "C-x <GAUCHE>" :description "buffer précédent."))
    (cheatsheet-add-group 'Fenêtres/Général
			  '(:key "C-x 0" :description "supprimer la fenêtre.")
			  '(:key "C-x 1" :description "étendre la fenêtre.")
			  '(:key "C-x 2" :description "séparer le cadre à l'horizontale.")
			  '(:key "C-x 3" :description "séparer le cadre à la verticale.")
			  '(:key "C-x 4 f" :description "ouvrir fichier dans une nouvelle fenêtre.")
			  '(:key "C-x 4 b" :description "ouvrir buffer dans une nouvelle fenêtre.")
			  '(:key "C-x o" :description "changer de fenêtre.")
			  '(:key "C-M-v" :description "scroller l'autre fenêtre vers le bas.")
			  '(:key "C-M-S-v" :description "scroller l'autre fenêtre vers le haut."))
    (cheatsheet-add-group 'Fenêtres/Zoom
			  '(:key "C-x {" :description "réduire la largeur de la fenêtre.")
			  '(:key "C-x }" :description "augmenter la largeur de la fenêtre.")
			  '(:key "C-x ^" :description "agrandir la hauteur de la fenêtre.")
			  '(:key "C-x +" :description "équilibrer les dimensions des fenêtres."))
    (cheatsheet-add-group 'Marque-page
			  '(:key "C-x r m" :description "créer marque-page.")
			  '(:key "C-x r b" :description "aller au marque-page.")
			  '(:key "C-x r o" :description "aller au marque-page dans une nouvelle fenêtre.")
			  '(:key "C-x r q" :description "supprimer un marque-page.")
			  '(:key "C-x r l" :description "lister les marque-pages."))
    (cheatsheet-add-group 'Navigation/Texte
			  '(:key "h" :description "aller à gauche.")
			  '(:key "j" :description "aller en bas.")
			  '(:key "k" :description "aller en haut.")
			  '(:key "l" :description "aller à droite.")
			  '(:key "0" :description "aller en début de ligne.")
			  '(:key "$" :description "aller en fin de ligne.")
			  '(:key "^" :description "aller au 1er caractère de la ligne")
			  '(:key "w" :description "aller au mot suivant.")
			  '(:key "b" :description "aller au mot précédent.")
			  '(:key "e" :description "aller en fin de mot suivant.")
			  '(:key ")" :description "aller à la phrase suivante.")
			  '(:key "(" :description "aller à la phrase précédente.")
			  '(:key "}" :description "aller au paragraphe suivant.")
			  '(:key "{" :description "aller au paragraphe précédent."))
    (cheatsheet-add-group 'Navigation/Écran
			  '(:key "gg" :description "aller en début de fichier.")
			  '(:key "G" :description "aller en fin de fichier.")
			  '(:key "C-f" :description "scroller d'un écran vers le bas.")
			  '(:key "C-b" :description "scroller d'un écran vers le haut.")
			  '(:key "C-e" :description "scroller d'une ligne vers le bas.")
			  '(:key "C-y" :description "scroller d'une ligne vers le haut.")
			  '(:key "C-l" :description "re-centrer l'écran sur le curseur.")
			  '(:key "H" :description "placer le curseur en haut de l'écran.")
			  '(:key "M" :description "placer le curseur au milieu de l'écran.")
			  '(:key "L" :description "placer le curseur en bas de l'écran."))
    (cheatsheet-add-group 'Navigation/Recherche
			  '(:key "t<caractère>" :description "aller juste avant le caractère suivant spécifié.")
			  '(:key "f<caractère>" :description "aller sur le caractère suivant spécifié.")
			  '(:key "T<caractère>" :description "aller juste avant le caractère précédent spécifié.")
			  '(:key "F<caractère>" :description "aller sur le caractère précédent spécifié.")
			  '(:key ";" :description "trouver le caractère suivant.")
			  '(:key "," :description "trouver le caractère précédent.")
			  '(:key "/" :description "rechercher après le curseur.")
			  '(:key "?" :description "rechercher avant le curseur.")
			  '(:key "n" :description "aller au résultat suivant.")
			  '(:key "N" :description "aller au résultat précédent.")
			  '(:key "*" :description "chercher le mot sous le curseur.")
			  '(:key "C-o" :description "retourner à la dernière localisation."))
    (cheatsheet-add-group 'Édition/Modes
			  '(:key "<ESC>" :description "activer le mode Normal.")
			  '(:key "i" :description "activer le mode Insertion.")
			  '(:key "a" :description "activer le mode Insertion après le curseur.")
			  '(:key "I" :description "activer le mode Insertion en fin de ligne.")
			  '(:key "A" :description "activer le mode Insertion en début de ligne.")
			  '(:key "o" :description "activer le mode Insertion sur la ligne suivante.")
			  '(:key "O" :description "activer le mode Insertion sur la ligne précédente.")
			  '(:key "v" :description "activer le mode Visuel.")
			  '(:key "V" :description "activer le mode Visuel en ligne.")
			  '(:key "C-v" :description "activer le mode Visuel en bloc.")
			  '(:key ":" :description "activer le mode Ligne de Commande.")
			  '(:key "M-x" :description "exécuter une fonction choisi."))
    (cheatsheet-add-group 'Édition/Texte
			  '(:key "x" :description "supprimer le caractère.")
			  '(:key "r" :description "remplacer le caractère.")
			  '(:key "s" :description "supprimer le caractère + activer le mode Insertion.")
			  '(:key "d" :description "supprimer du texte.")
			  '(:key "D" :description "supprimer le texte jusqu'à la fin de ligne.")
			  '(:key "dd" :description "supprimer la ligne entièrement.")
			  '(:key "c" :description "changer du texte.")
			  '(:key "C" :description "changer le texte jusqu'à la fin de ligne.")
			  '(:key "y" :description "copier du texte.")
			  '(:key "yy" :description "copier la ligne entièrement.")
			  '(:key "p" :description "coller du texte.")
			  '(:key "P" :description "coller du texte avant le curseur.")
			  '(:key "C-p" :description "parcourir le presse-papier.")
			  '(:key "u" :description "annuler la dernière action."))
    (cheatsheet-add-group 'Headline/Édition
			  '(:key "<TAB>" :description "réduire/étendre un headline.")
			  '(:key "S-<TAB>" :description "réduire/étendre tous les headlines.")
			  '(:key "M-<flèche>" :description "déplacer les headlines.")
			  '(:key "M-S-<gauche/droite>" :description "réorganiser un headline et ses dépendances.")
			  '(:key "M-<RET>" :description "ajouter un headline à la ligne suivante.")
			  '(:key "C-<RET>" :description "ajouter un headline à la fin de la section.")
			  '(:key "M-S-<RET>" :description "ajouter un TODO.")
			  '(:key "C-S-<RET>" :description "ajouter un TODO à la fin de la section.")
			  '(:key "C-c C-t" :description "changer d'état entre TODO/DONE"))
    (cheatsheet-add-group 'Headline/Navigation
			  '(:key "C-c C-n" :description "aller au headline suivant.")
			  '(:key "C-c C-p" :description "aller au headline précédent.")
			  '(:key "C-c C-f" :description "aller au headline suivant du même niveau.")
			  '(:key "C-j" :description "aller au headline suivant du même niveau.")
			  '(:key "C-c C-b" :description "aller au headline précédent du même niveau.")
			  '(:key "C-k" :description "aller au headline précédent du même niveau.")
			  '(:key "C-c C-u" :description "aller au headline parent.")
			  '(:key "C-c C-k" :description "afficher le plan d'un headline.")
			  '(:key "C-c *" :description "(dé)transformer une ligne en headline.")
			  '(:key "C-c ^" :description "trier les headlines.")
			  '(:key "C-c C-*" :description "(dé)transformer un item en headline.")
			  '(:key "C-x n s" :description "réduire le fichier à un headline.")
			  '(:key "C-x n w" :description "étendre le fichier totalement."))
    (cheatsheet-add-group 'Structure/Liste
			  '(:key "<TAB>" :description "réduire/étendre un item.")
			  '(:key "M-<flèche>" :description "déplacer les items.")
			  '(:key "M-S-<gauche/droite>" :description "réorganiser un item et ses dépendances.")
			  '(:key "S-<haut/bas>" :description "naviguer dans les items de même niveau.")
			  '(:key "S-<droite/gauche>" :description "modifier l'aspect des tirets.")
			  '(:key "M-<RET>" :description "ajouter un item à la ligne suivante.")
			  '(:key "M-S-<RET>" :description "insérer une checkbox.")
			  '(:key "C-c C-c" :description "(dé)cocher une checkbox.")
			  '(:key "C-c ^" :description "trier les items."))
    (cheatsheet-add-group 'Correcteur/Général
			  '(:key "C-M-$" :description "corriger tout le fichier.")
			  '(:key "M-$" :description "corriger un mot.")
			  '(:key "C-;" :description "corriger automatiquement le mot précédent.")
			  '(:key "C-c f" :description "(dés)activer le mode mineur Flyspell."))
    (cheatsheet-add-group 'Correcteur/Menu
			  '(:key "<SPC>" :description "ignorer temporairement une erreur.")
			  '(:key "a" :description "ignorer définitivement une erreur (jusqu'à la prochaine session).")
			  '(:key "r" :description "modifier un mot erroné.")
			  '(:key "R" :description "modifier toutes les occurrences d'un mot erroné.")
			  '(:key "i" :description "ajouter un mot dans son dictionnaire personnel.")
			  '(:key "u" :description "ajouter un mot dans son dictionnaire personnel sans la majuscule.")
			  '(:key "q" :description "quitter la correction et revenir au point initial.")
			  '(:key "x" :description "quitter la correction et revenir au point initial.")
			  '(:key "X" :description "quitter la correction et laisser le curseur à sa position.")
			  '(:key "?" :description "interface d'aide du correcteur."))
    (cheatsheet-add-group 'Abréviations
			  '(:key "M-x define-mode-abbrev" :description "définir une abréviation.")
			  '(:key "M-x define-global-abbrev" :description "définir une abréviation.")
			  '(:key "C-x a g" :description "définir une abréviation selon le mot sous le curseur.")
			  '(:key "C-x a i g" :description "définir une expansion selon l'abréviation sous le curseur.")
			  '(:key "M-x unexpand-abbrev" :description "annuler une expansion d'abréviation.")
			  '(:key "M-'" :description "insérer un préfixe à une abréviation.")
			  '(:key "M-x list-abbrevs" :description "lister les abréviations.")
			  '(:key "M-x edit-abbrevs" :description "éditer les abréviations.")
			  '(:key "C-q" :description "insérer un caractère sans étendre l'abréviation."))
    (cheatsheet-add-group 'Exportation
			  '(:key "C-c C-e" :description "interface d'exportation.")
			  '(:key "C-c @" :description "sélectionner le headline.")
			  '(:key "C-s" :description "exporter seulement un headline (et ses dépendances).")
			  '(:key "C-x C-;" :description "commenter la/les ligne(s).")
			  '(:key "C-c ;" :description "commenter le headline."))
    (cheatsheet-add-group 'Divers
			  '(:key "C-x 8 <RET>" :description "insérer un caractère spécifié.")
			  '(:key "C-c C-x \​" :description "(dés)activer la visualisation des indices et exposants.")
			  '(:key "M-c" :description "mettre une majuscule au mot.")
			  '(:key "C-g" :description "annuler la commande en cours.")
			  '(:key "." :description "répéter la dernière action.")
			  '(:key "M-q" :description "mettre en forme le paragraphe."))

    ;; Fonction : affichage du Mémo
    (defun custom-cheatsheet-show ()
      "Affichage du cheatsheet en haut du fichier"
      (interactive)
      (cheatsheet-show)
      (evil-goto-first-line))

    ;; Définition du raccourci clavier pour la fonction précédente
    (global-set-key (kbd "C-h z") 'custom-cheatsheet-show))
#+END_SRC

*** Hydra
Petit mémo contextuel sous la forme d'un mini-buffer en bas d'écran.
#+BEGIN_SRC emacs-lisp
  (use-package hydra
    :defer
    :config
    (defhydra hydra-C-x ()
      "Général (préfixe C-x)"
      ("C-f" find-file "ouvrir/créer fichier" :column "Fichiers")
      ("C-s" save-buffer "enregistrer")
      ("s" save-some-buffers "enregistrer plusieurs")
      ("k" kill-buffer "fermer fichier")
      ("C-w" write-file "enregistrer sous")
      ("C-c" save-buffers-kill-terminal "enregistrer et quitter")
      ("b" ivy-switch-buffer "changer buffer" :column "Buffers")
      ("<right>" next-buffer "buffer suivant")
      ("<left>" previous-buffer "buffer précédent")
      ("0" delete-window "supprimer fenêtre" :column "Fenêtre")
      ("1" delete-other-windows "étendre fenêtre")
      ("2" split-window-below "séparer horizontale")
      ("3" split-window-right "séparer verticale")
      ("4" hydra-C-x-4/body "ouvrir dans autre fenêtre" :exit t)
      ;; ("4 b" switch-to-buffer-other-window "ouvrir buffer autre fenêtre")
      ("o" other-window "changer fenêtre")
      ("r m" bookmark-set "créer marque-page" :column "Marque-page")
      ("r b" bookmark-jump "aller au marque-page")
      ("r o" bookmark-jump-other-window "aller au marque-page autre fenêtre")
      ("r q" bookmark-delete "supprimer marque-page")
      ("r l" bookmark-bmenu-list "lister marque-pages")
      ("?" custom-cheatsheet-show "aide raccourci" :column "Autre" :exit t)
      ("q" nil "quitter")
      )
    (defhydra hydra-C-x-4 ()
      "Ouvrir dans une autre fenêtre "
      ("f" find-file-other-window "fichier")
      ("b" switch-to-buffer-other-window "buffer")
      ("q" nil "quitter")
      )
    (defhydra hydra-C-c ()
      "Général (préfixe C-c)"
      ("C-c C-n" outline-next-visible-heading "headline suivant" :column "Headline")
      ("C-c C-p" outline-previous-visible-heading "headline précédent")
      ("C-c C-f" org-forward-heading-same-level "headline suivant même niveau")
      ("C-c C-b" org-backward-heading-same-level "headline précédent même niveau")
      ("C-c C-u" outline-up-heading "aller headline parent")
      ("C-c C-k" org-kill-note-or-show-branches "afficher plan headline")
      ("C-c C-t" org-todo "changer état TODO/DONE" :column "Cocher/Décocher")
      ("C-c C-c" org-ctrl-c-ctrl-c "(dé)cocher checkbox")
      ("C-c C-e" org-export-dispatch "interface exportation" :column "Exportation")
      ("C-c @" org-mark-subtree "sélectionner headline")
      ("C-c ;" org-toggle-comment "commenter headline")
      ("?" custom-cheatsheet-show "aide raccourci" :column "Autre" :exit t)
      ("q" nil "quitter")
      )
    (defhydra hydra-C-h ()
      "Général (préfixe C-h)"
      ("C-h c" describe-key-briefly "description rapide raccourci" :column "Aide")
      ("C-h c" describe-key-briefly "description rapide raccourci")
      ("C-h k" describe-key "description complète raccourci")
      ("C-h f" describe-function "description complète fonction")
      ("C-h m" describe-mode "description complète mode")
      ("C-h i" info "ouvrir manuel Emacs")
      ("C-h e" view-echo-area-messages "ouvrir *Messages​*")
      ("C-?" hydra-no-prefix/body "mini-antisèche sans préfixe" :column "Autre" :exit t)
      ("C-x ?" hydra-C-x/body "mini-antisèche si préfixe C-x" :exit t)
      ("C-c ?" hydra-C-c/body "mini-antisèche si préfixe C-c" :exit t)
      ("?" custom-cheatsheet-show "aide raccourci" :exit t)
      ("q" nil "quitter")
      )
    (defhydra hydra-no-prefix ()
      "Général (no prefix)"
      ("h" evil-backward-char "gauche" :column "Navigation/Texte")
      ("j" evil-next-line "bas")
      ("k" evil-previous-line "haut")
      ("l" evil-forward-char "droite")
      ("0" evil-beginning-of-line "début ligne")
      ("$" evil-end-of-line "fin ligne")
      ;; ("^" evil-first-non-blank "1er caractère ligne")
      ("w" evil-forward-word-begin "mot suivant")
      ("b" evil-backward-word-begin "mot précédent")
      ;; ("e" evil-forward-word-end "mot suivant (fin)")
      (")" org-forward-sentence "phrase suivante")
      ;; ("(" org-backward-sentence "phrase précédente")
      ("}" org-forward-paragraph "paragraphe suivant")
      ;; ("{" org-backward-paragraph "paragraphe précédent")
      ("gg" evil-goto-first-line "début fichier" :column "Navigation/Écran")
      ("G" evil-goto-line "fin fichier")
      ("C-f" evil-scroll-page-down "page suivante")
      ("C-b" evil-scroll-page-up "page précédente")
      ("C-e" evil-scroll-line-down "ligne suivante")
      ("C-y" evil-scroll-line-up "ligne précédente")
      ("C-l" recenter-top-bottom "centrer écran")
      ("<ESC>" evil-force-normal-state "mode Normal" :column "Édition/Modes")
      ("i" evil-insert "mode Insertion (avant curseur)")
      ("a" evil-append "mode Insertion (après curseur)")
      ("o" evil-open-below "mode Insertion (ligne après)")
      ("O" evil-open-above "mode Insertion (ligne avant)")
      ("v" evil-visual-char "mode Visuel")
      ("V" evil-visual-line "mode Visuel (ligne)")
      ("C-v" evil-visual-block "mode Visuel (bloc)")
      (":" evil-ex "mode Ligne de Commande")
      ("x" evil-delete-char "supprimer caractère" :column "Édition/Texte")
      ("r" evil-replace "remplacer caractère")
      ("s" evil-substitute "changer caractère")
      ("d" evil-delete "supprimer texte")
      ("c" evil-change "changer texte")
      ("y" evil-yank "copier texte")
      ("p" evil-paste-after "coller texte")
      ("C-p" evil-paste-pop "parcourir presse-papier")
      ("u" evil-undo "annuler action")
      ("." evil-repeat "répéter action")
      ("<tab>" org-cycle "cycler headline/item" :column "Headline/Liste")
      ;; ("S-<tab>" org-shifttab "cycler tous headlines")
      ("M-<left>" org-metaleft "déplacer headlines/item (gauche)")
      ("M-<right>" org-metaright "déplacer headlines/item (droite)")
      ("M-<up>" org-metaup "déplacer headlines/item (haut)")
      ("M-<down>" org-metadown "déplacer headlines/item (bas)")
      ("M-S-<left>" org-shiftmetaleft "réorganiser headline/item (gauche)")
      ("M-S-<right>" org-shiftmetaright "réorganiser headline/item (droite)")
      ;; ("S-<up>" org-shiftup "naviguer items même niveau (haut)")
      ;; ("S-<down>" org-shiftdown "naviguer items même niveau (bas)")
      ;; ("S-<left>" org-shiftleft "modifier aspect tirets")
      ("S-<right>" org-shiftright "modifier aspect tirets")
      ("M-<return>" org-meta-return "ajouter headline/item")
      ("C-<return>" org-insert-heading-respect-content "ajouter headline (fin section)")
      ("M-S-<return>" org-insert-todo-heading "ajouter TODO/checkbox")
      ("C-S-<return>" org-insert-todo-heading-respect-content "ajouter TODO (fin section)")
      ("C-;" flyspell-auto-correct-previous-word "corriger mot précédent (auto)" :column "Autre")
      ("C-g" keyboard-quit "annuler commande")
      ("?" custom-cheatsheet-show "aide raccourci" :exit t)
      ("q" nil "quitter")
      )

    ;; Définition des raccourcis pour chaque section Hydra
    (global-set-key (kbd "C-x ?") 'hydra-C-x/body)
    (global-set-key (kbd "C-h ?") 'hydra-C-h/body)
    (define-key org-mode-map (kbd "C-c ?") nil)
    (global-set-key (kbd "C-c ?") 'hydra-C-c/body)
    (global-set-key (kbd "C-?") 'hydra-no-prefix/body)
    )
#+END_SRC
